// This file is auto-generated by generate_classes so do not edit manually
{% macro lower_case_first_letter(text) %}
    {{- text[0]|lower}}{{text[1:] -}}
{% endmacro %}

module.exports = {
    Patient: {
        {% for fhir_entity in fhir_entities %}
        /**
         * @param {Resource|null} parent
         * @param {Object} args
         * @param {GraphQLContext} context
         * @param {Object} info
         * @return {Promise<Resource>}
         */
        {{ lower_case_first_letter(fhir_entity.plural_name) }}: async (parent, args, context, info) => {
            return await context.dataApi.getResources(
                parent,
                {
                    ...args,
                    {{ patient_resources_search_param_dict[fhir_entity.cleaned_name] }}{{ ': ' -}} 
                    {% if patient_resources_search_param_dict[fhir_entity.cleaned_name] in ["extension", "identifier"] %}
                    {{- '`https://icanbwell.com/codes/source_patient_id|${parent.id}`' }}
                    {% else %}
                    {{- '`Patient/${parent.id}`' }}
                    {% endif %}
                },
                context,
                info,
                '{{ fhir_entity.cleaned_name }}'
            );
        },
        {% endfor %}
    }
};

